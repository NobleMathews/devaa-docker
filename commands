docker build --progress=plain --pull --rm -f "Dockerfile" -t devaa:latest "."
--no-cache
#Declaration of required external variables
SDK_LOCATION=C:\\Users\\elbon\\AppData\\Local\\Android\\Sdk
NDK_LOCATION=C:\\Users\\elbon\\AppData\\Local\\Android\\Sdk\\ndk\\22.0.7026061
JAVA_HOME="C:\\Program Files\\Java\\jre1.8.0_301"

cd ${DEVAA_HOME} && pwsh -File "${CODEQL_HOME}/codeql-repo/java/ql/test/query-tests/security/Devaa/pre_process.ps1" -giturl "https://github.com/irccloud/android"  -testName "domXss"


src/com/irccloud/android/activity/ImageViewerActivity.java:366:13:59
src/com/irccloud/android/activity/PastebinViewerActivity.java:114:21:88
src/com/irccloud/android/activity/PastebinViewerActivity.java:239:13:80

https://gist.github.com/mrk-han/66ac1a724456cadf1c93f4218c6060ae
echo no | Android/Sdk/tools/bin/avdmanager create avd --force --name testAVD --abi google_apis/x86_64 --package 'system-images;android-23;google_apis;x86_64'

sdkmanager --install "system-images;android-25;google_apis;armeabi-v7a"
echo no | avdmanager create avd --force --name "generic_10" --package "system-images;android-25;google_apis;armeabi-v7a"
@REM  --tag "default" --abi "x86"

nohup adb devices | grep emulator | cut -f1 | while read line; do adb -s $line emu kill; done
adb kill-server
nohup emulator @generic_10 -no-skin -no-audio -no-window -no-boot-anim -gpu off &
adb start-server
adb devices

https://stackoverflow.com/questions/3634041/detect-when-android-emulator-is-fully-booted
taking too long to boot
https://stackoverflow.com/questions/46071235/cannot-start-android-emulator-x86-64-in-docker-container-in-vm/52722942

host
C:/tools/platform-tools/adb.exe tcpip 5555

container
adb kill-server
adb connect 192.168.1.8:5555

https://blog.codemagic.io/how-to-dockerize-flutter-apps/#for-macos-and-windows-users
https://stackoverflow.com/questions/63935677/adb-devices-is-empty-in-windows-docker-container

cd ${DEVAA_HOME} && pwsh -File "${CODEQL_HOME}/codeql-repo/java/ql/test/query-tests/security/Devaa/pre_process.ps1" -giturl "https://github.com/NobleMathews/vuldroid"  -testName "xss" 
@REM https://github.com/t4kemyh4nd/vulnwebview

adb shell "run-as com.vuldroid.application cat /data/data/com.vuldroid.application/app_webview/Default/Cookies" > Cookies

docker cp jovial_merkle:/Cookies ./Cookies


--
adb shell
run-as com.vuldroid.application

/data/data/com.vuldroid.application/app_webview/Default

---
https://devblogs.microsoft.com/commandline/connecting-usb-devices-to-wsl/

usbipd wsl list
usbipd wsl attach --busid
usbipd wsl detach --busid <busid>
